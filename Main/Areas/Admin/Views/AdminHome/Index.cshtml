@model SDM.Core.Configuration.Config
@{
    ViewBag.Title = "Admin Control Panel";
}

<div>
    <h1>Admin Control Panel</h1>
</div>
@using (Html.BeginForm("SaveSettings", "AdminHome"))
{
    if (ViewBag.Result != null)
    {
    <span style="font-weight: bold">Result: @ViewBag.Result</span>
    <hr />
    }
    <fieldset>
        <legend>General Settings</legend>
        @Html.LabelFor(t => t.AdminPassword)
        @Html.PasswordFor(t => t.AdminPassword, new { placeholder="(not changed)" })
    </fieldset>
    <fieldset>
        <legend>Database Settings</legend>
        @Html.LabelFor(t => t.Sql.ServerName)
        @Html.TextBoxFor(t => t.Sql.ServerName)
        <br/>
        @Html.LabelFor(t => t.Sql.DatabaseName)
        @Html.TextBoxFor(t => t.Sql.DatabaseName)
        <br/>
        @Html.LabelFor(t => t.Sql.UserName)
        @Html.TextBoxFor(t => t.Sql.UserName)
        <br/>
        @Html.LabelFor(t => t.Sql.Password)
        @Html.PasswordFor(t => t.Sql.Password, new { placeholder="(not changed)" })        
    </fieldset>
    <input type="submit" value="Save" />
    @Html.ActionLink("Reset to default values", "ResetSettings")
    @:
    @Html.ActionLink("Return to homepage", "Index", "Home", new { area = string.Empty }, null)
}